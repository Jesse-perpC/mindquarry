<?xml version="1.0" encoding="UTF-8"?>
<article version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:mml="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Developing Mindquarry</title>

  <subtitle>First Steps in Mindquarry Development</subtitle>

  <section>
    <title>Mindquarry's Goals</title>

    <para>The goal of the Mindquarry project is the creation of an powerful
    and easy-to-use collaboration environment for knowledge workers. </para>
  </section>

  <section>
    <title>Development Prerequisites</title>

    <para>In order to develop Mindquarry, you need:</para>

    <itemizedlist>
      <listitem>
        <para>A Java Development Kit, Version 1.5 or higher</para>
      </listitem>

      <listitem>
        <para>Apache Maven 2.0.4 or higher</para>
      </listitem>

      <listitem>
        <para>Subversion 1.3 or higher (a Subversion client is
        sufficient)</para>
      </listitem>
    </itemizedlist>

    <para>Additional tools for Mindquarry development that are not neccessary,
    but ease the development process are:</para>

    <itemizedlist>
      <listitem>
        <para>An XML Editor</para>
      </listitem>

      <listitem>
        <para>A good editor for Javascript and CSS</para>
      </listitem>

      <listitem>
        <para>An IDE for Java Development</para>
      </listitem>
    </itemizedlist>

    <para>A good combination that has proven success in Mindquarry's
    development team is the Eclipse IDE with the Subclipse Plugin, oXygen XML
    Plugin and JSEclipse Javascript Editor Plugin.</para>
  </section>

  <section>
    <title>Getting Mindquarry's Source Code</title>

    <para>Mindquarry consists of many small projects (Maven modules), each
    with its own Subversion repository.</para>

    <para>The easiest way to check out Mindquarry's source code is to check
    out the Mindquarry Meta-System, which includes all Mindquarry projects as
    externals. This includes everything neccessary to run the Mindquarry
    Webapplication.</para>

    <example>
      <title>Checking out Mindquarry</title>

      <programlisting><prompt># </prompt>svn co https://www.mindquarry.org/repos/mindquarry-meta-system/trunk/ mindquarry</programlisting>

      <para>This command will put all of Mindquarry's source code into the
      directory <filename>mindquarry</filename>.</para>
    </example>
  </section>

  <section xml:id="build">
    <title>Building Mindquarry</title>

    <para>In order to build Mindquarry, run <command>mvn install</command> in
    the <filename>mindquarry</filename> checkout directory.</para>

    <example>
      <title>Building Mindquarry with Maven</title>

      <programlisting><prompt># </prompt>mvn install</programlisting>
    </example>

    <para>Maven will build all of Mindquarry's modules and download all
    dependencies neccessary for building Mindquarry.</para>
  </section>

  <section>
    <title>Running Mindquarry in Development Mode</title>

    <para>In order to run Mindquarry, you have to to <phrase
    xlink:href="#build">build it first</phrase>. Afterwards you can switch to
    the directory
    <filename>mindquarry-webapp/mindquarry-webapplication</filename>. As a
    first and initial step, you have to create a comfiguration file for
    running Mindquarry. The easiest way to do so is copying the file
    <filename>config.template/mindquarry-webapplication.properties</filename>
    to your current working directory.</para>

    <para>Then you can run <command>mvn jetty:run</command> to start the
    Mindquarry Web Application.</para>

    <example>
      <title>Running Mindquarry</title>

      <programlisting># mvn jetty:run</programlisting>
    </example>

    <para>After a short startup time, you can open Mindquarry in your web
    browser at the location <uri>http://localhost:8888/</uri>. Log in as user
    <literal>admin</literal> with password <literal>admin</literal> and create
    some test data.</para>
  </section>

  <section>
    <title>Creating Patches</title>

    <para>In order to create patches, switch to the subdirectory of the
    affected module and type <command>svn diff</command>. After reviewing the
    output you can redirect the output into a patch file and send this file to
    <literal>bugs@mindquarry.com</literal>.</para>

    <example>
      <title>Creating a Patch</title>

      <programlisting># svn diff &gt; my-patch.patch</programlisting>
    </example>
  </section>

  <appendix>
    <title>Further Reading</title>

    <para>Further valuable information can be found in the <phrase
    xlink:href="http://www.mindquarry.org/mindquarry/docbook/architecture.pdf">Mindquarry
    Collaboration Server Architecture Documentation</phrase> which explains
    the main building blocks and cocepts behind Mindquarry.</para>

    <para>If you are interested in becomming a permanent member of the
    Mindquarry team and join us as a comitter, the <phrase
    xlink:href="http://www.mindquarry.org/mindquarry/docbook/dev-process.pdf">Mindquarry
    Development Process</phrase> document might be of interest for you.
    </para>

    <para>In order to get in touch with the Mindquarry developers, join the
    <phrase xlink:href="http://www.mindquarry.com/forum/">Mindquarry
    Forum</phrase>.</para>
  </appendix>
</article>