<?xml version="1.0" encoding="UTF-8"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
	<map:generators>
		<map:generator name="svnGenerator"
			src="com.mindquarry.cocoon.subversion.generator.SubversionGenerator" />
	</map:generators>

	<map:flow language="javascript">
		<map:script src="svn.js" />
	</map:flow>

	<map:pipelines>
		<map:pipeline>
			<map:match pattern="">
				<map:generate src="welcome.xml" />
				<map:serialize type="xhtml" />
			</map:match>

			<map:match pattern="style/*.css">
				<map:read src="style/{1}.css" mime-type="text/css" />
			</map:match>

			<map:match pattern="svn-block">
				<map:call function="showRepository" />
			</map:match>

			<map:match pattern="repository-jx">
				<map:generate src="repository.xml" type="jx" />
				<map:transform src="repository2html.xsl" />
				<map:serialize type="xhtml" />
			</map:match>
			
			<map:match pattern="svn-generator">
				<map:generate type="svnGenerator" />
				<map:transform src="repository2html.xsl" />
				<map:serialize type="xhtml" />
			</map:match>
		</map:pipeline>
	</map:pipelines>
</map:sitemap>
